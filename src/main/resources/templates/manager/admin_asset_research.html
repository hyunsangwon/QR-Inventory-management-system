<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/config :: configFragment"></head>
<link rel="stylesheet" th:href="@{/css/total_company.css}">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" th:href="@{/css/w3.css}">
<link rel="stylesheet" th:href="@{/css/font-awesome.min.css}">
<script th:src="@{/script/total_company.js}" type="text/javascript"></script>
<script>
    var token = $("meta[name='_csrf']").attr("content");
    var header = $("meta[name='_csrf_header']").attr("content");
    $(document).ready(function(){
        $('a[name=admin_search]').css('background-color','#437ece');
        $("span[name=pageNum]").click(function()
        {
            $("span[name=pageNum]").attr('class','page');
            $(this).attr('class','page_start');
            var pageNum = $(this).attr('id');
        });

        $("img[name=pageNum]").click(function()
        {
            var pageNum = $(this).attr('id');
        });

    });
    function click_user(userSrl)
    {
        $("div[name=section-box]").removeClass('active');
        $('#'+userSrl).addClass('active');
    }

    function load_detail_page(qrSrl)
    {
        console.log(qrSrl);
    }

    /*자산 관리자 정보와 페이징 객체 가져오기*/
    function ajax_admin_info()
    {
        $.ajax
        ({

        });
    }
    /*자산 관리자 자산 리스트 호출*/
    function ajax_admin_asset_list()
    {

    }
</script>
<body>
	<div class="cd-main-header js-cd-main-header">
	<div id="main_ct" class="wrap">
    <div th:replace="fragments/header:: headInfoFragment"></div>
    <div th:replace="fragments/header:: headNavFragment"></div>
    <div class="depth2-bg"></div>
    <!-- 관리자 추가하기 modal -->
    <div id="obj-info-plus" class="company-modal">
        <div id="modal-content" class="modal-company">
            <div class="order-info-title">
                <div class="title">
                    <span>관리자 추가하기</span> 
                    <span class="close"><img th:src="@{/image/popup-icon-close.svg}"></span>
                </div>
            </div>
            <div class="form" >
                <div class="form-box" style="margin-bottom:30px;">
                    <div class="title">
                        <div class="circle"></div>이름
                    </div>
                    <div class="text" >
                        <input type="text" style="width:630px; height:80px; padding-left:40px; font-weight: 500;">
                    </div>
                </div>
                <div class="form-box">
                    <div class="title">
                        <div class="circle"></div>연락처
                    </div>
                    <div class="text" >
                        <input type="text" style="width:630px; height:80px; padding-left:40px; font-weight: 500;">
                    </div>
                </div>
                <div class="remark" style="width:100%; padding:20px 0 60px 150px; height:165px; float:left; color:#444444;">
                    자산관리자는 개인정보 입력 후 APP 사용이 가능합니다.<p>
                    <span style="font-weight: 500;">관리자 정보를 정확히 입력하세요.</span>
                </div>
            </div>
            <div class="obj-plus-btn">
                <button class="plus_btn"><span>추가하기</span></button>
            </div>
        </div>
    </div>
    <!-- //obj-info-plus -->
    <!-- 관리자 수정하기 modal-->
    <div id="obj-info-edit" class="company-modal">
        <div id="modal-content" class="modal-company">
            <div class="order-info-title">
                <div class="title">
                    <span>관리자 정보 수정하기</span> 
                    <span class="close"><img th:src="@{/image/popup-icon-close.svg}"></span>
                </div>
            </div>
            <div class="form" >
                <div class="form-box" style="margin-bottom:30px;">
                    <div class="title">
                        <div class="circle"></div>이름
                    </div>
                    <div class="text" >
                        <input type="text" style="width:630px; height:80px; padding-left:40px; font-weight: 500;">
                    </div>
                </div>
                <div class="form-box">
                    <div class="title">
                        <div class="circle"></div>연락처
                    </div>
                    <div class="text" >
                        <input type="text" style="width:630px; height:80px; padding-left:40px; font-weight: 500;">
                    </div>
                </div>
                <div class="remark" style="width:100%; padding:20px 0 60px 150px; height:165px; float:left; color:#444444;">
                    관리자 삭제는 C&Tech 고객센터로 문의하세요.<p>
                    <span style="font-weight: 500;">연락처 : 042.862.0142</span>
                </div>
            </div>
            <div class="obj-complete-btn">
                <button class="complete_btn"><span>수정 완료</span></button>
            </div>
        </div>
    </div>
    <!-- //obj-info-edit -->
		<div id="content-wrap">
			<div class="page-title-search-area">
				<div class="page-title">
					<div class="all-company">관리자 자산조회</div>
				</div>
				<!-- //page-title -->
                <div class="page-title-icon" style="width:50%; float:left; text-align:right; padding:26px 0;">
                    <img class="plus-btn" th:src="@{/image/common-icon-add.svg}" style="margin-right:54px; cursor: pointer;">
                </div>
			</div>
			<!-- //page-title-search-area -->
		</div>
		<!-- //content-wrap -->
		<!-- Sidebar -->
		<div class="w3-sidebar w3-collapse w3-white w3-animate-left"  style=" width:460px; overflow:hidden;"  id="mySidebar"><br>
			  <div class="w3-container-select">
			    <div class="filter-area">
 				  <select>
 				  		<option selected >관리자 이름순</option>
 				  		<!--<option>이벤트 발생순</option>
 				  		<option>업체 이름순 </option>-->
 				  </select>
 			  </div>
 			  <!-- // filter-area-->
			  </div>
			  <div class="container-text" style="height:1400px; overflow-y:auto; overflow-x:hidden;  ">
			  	<div class="section-box active" name="section-box" th:onclick="click_user(${myInfo.userSrl})" th:id="${myInfo.userSrl}">
			  		<a>
                        <!--자산 담당자일 경우는 com-icon-crown, 자산 관리자일 경우는 com-icon-->
                        <div class="com-icon-crown"><img th:src="@{/image/list-icon-crown.svg}"></div>
			  			<div class="com-name" th:text="${myInfo.userName}">홍길동A</div>
			  			<div class="com-total" th:text="${myInfo.totalObjCnt}">167</div>
			  		</a>
			  	</div>
			  	<div class="section-box" name="section-box" th:unless="${assetAdminListSize} == '0'" th:each="list : ${assetAdminList}"
                     th:data-listNo="${list.userSrl}" th:id="${list.userSrl}" th:onclick="click_user(this.getAttribute('data-listNo'))">
			  		<a>
                        <div class="com-icon"><img style="opacity: 0;" th:src="@{/image/list-icon-crown.svg}"></div>
			  			<div class="com-name" th:text="${list.userName}">홍길동B</div>
			  			<div class="com-total" th:text="${list.totalObjCnt}">104</div>
			  		</a>
			  	</div>
			  </div>
		</div>
		<!-- // w3-sidebar w3-collapse w3-white w3-animate-left -->
		<!-- Overlay effect when opening sidebar on small screens -->
		<div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>
		<div class="w3-main" style="margin-left:460px; height:1750px;">
		  <!-- Header -->
		  <header id="company-all-info">
		    <span class="w3-button w3-hide-large w3-xxlarge w3-hover-text-grey" onclick="w3_open()" style="background:url('/image/total_company/hamburger_menu.png') no-repeat ; width:50px; height:50px; background-size:50px; margin:20px;"><i class="fa fa-bars"></i></span>
            <div class="w3-container" style="padding:60px 50px;">
		    <div class="company-name" id="userName">
		    	<b th:text="|[자산 담당자] ${myInfo.userName}|">[자산담당자] 홍길동 A</b>
		    </div>
            <!-- //company-name -->
            <div class="edit-icon edit-btn" style="cursor: pointer;">
                <span style="margin-right: 20px; font-size: 24px; vertical-align: middle; color: #666666;">수정하기</span><img th:src="@{/image/list-icon-edit.svg}">
            </div>
		   <!--//edit-icon-->
            <!--자산 등록이 안되어 있는 경우Default-->
            <div class="company-info" id="userInfo">
                <ul class="info-list">
                    <li><b>담당자 연락처</b></li>
                    <li>전체 관리 자산</li>
                </ul>
                <ul class="info-text">
                    <li>: <span style="font-weight: 600;" th:text="${myInfo.phone}">010-1234-5678</span><li>
                    <li>: <span th:text="|${myInfo.totalObjCnt} 개|">104개</span></li>
                </ul>
            </div>
            <!-- //company-info -->
            <!--자산이 등록되어 있는 경우
	    	<div class="company-info">
	    		<ul class="info-list">
	    			<li><b>담당자 연락처</b></li>
	    			<li>전체 관리 자산</li>
	    			<li>레이저 복합기</li>
                    <li>토너 카트리지</li>
	    		</ul>
	    		<ul class="info-text">
	    			<li>: <span style="font-weight: 600;">010-1234-5678</span><li>
	    			<li>: <span>104개</span></li>
	    			<li>: <span>28개</span></li>
                    <li>: <span>76개</span></li>
	    		</ul>
	    	</div>-->
	    	<!-- //company-info -->
		    </div>
		    <!-- //w3-container -->
		  </header>
  		 <div class="clear"></div>
		  <div class="w3-row-padding" style="padding:0 50px;">
				<div class="panel-heading">
					<div class="panel-group">
						<div class="panel-title">
							<div class="circle"></div>
							<span class="title">자산 관리 현황</span>
						</div>
						<div class="filter-area-panel" style="position:relative; top:-29px; padding:0; text-align:right;">
		 				<!--자산 담당자를 클릭했을 경우 나오는 select-->  
                        <select>
                            <option selected >전체 관리 자산</option>
                            <option>출고 대기</option>
                            <option>반납 승인 필요</option>
                        </select>
                        <!--자산 관리자를 클릭했을 경우 나오는 select 
                        <select>
                            <option selected >전체 관리 자산</option>
                            <option>출고 완료</option>
		 				    <option>반납 시작</option>
		 	                <option>반납 완료</option>
                        </select>
                        --> 
                        </div>
			             <!-- // filter-area-->
					</div>
					<!--//panel-group-->
				</div>
				<!--//panel-heading-->
		  </div>
		  <div class="w3-container w3-padding-large" >
            <!-- default일 때 나오는 box  -->  
            <!--등록된 자산이 없을 때-->
            <div class="default-remark">
                등록된 자산이 없습니다.<p>
                아래 순서에 따라 자산을 등록하세요.
            </div>
            <!-- default 상태  -->
            <div class="default-wrap" th:if="${assetListSize} == '0'">
                <div class="default-box" >
                    <div class="box"></div>
                    <span>등록 예정 자산에<p>QR 코드 스티커 부착</span>
                </div>
                <div class="default-box" >
                    <div class="box"></div>
                    <span>'WEISER QR 자산관리'<p>APP 다운로드</span>
                </div>
                <div class="default-box" >
                    <div class="box"></div>
                    <span>APP 실행 후<p>'내부 자산 등록' 선택</span>
                </div>
            </div>
            <!--//default 상태  -->
            <!--자산 담당자일때 나오는 box 시작-->
                <!-- 출고 대기 -->
              <th:block th:unless="${assetListSize} == '0'">
              <th:block th:if="${auth} == 'manager'" th:each="list : ${assetList}"
                        th:data-listNo="${list.qrSrl}"  th:onclick="load_detail_page(this.getAttribute('data-listNo'))">
                <div class="item-wait" th:if="${list.objStatus eq 'release_wait'}">
                    <div class="item">
                        <img th:src="@{${list.objImage}}">
                    </div>
                    <div class="item-text">
                        <div class="state">
                            <b>출고 대기</b>
                        </div>
                        <div class="date" th:text="${list.objStatusAt}">
                            2020.5.24, 10시 22분
                        </div>
                    </div>
                </div>
                <div class="item-return-approve" th:if="${list.objStatus eq 'return_wait'}">
                    <div class="item">
                        <img th:src="@{${list.objImage}}">
                    </div>
                    <div class="item-text">
                        <div class="state">
                            <b>반납 승인 필요</b>
                        </div>
                        <div class="item-id" th:text="${list.objStatusAt}">
                            2020.5.24 14시 54분
                        </div>
                    </div>
                </div>
              </th:block>
                <!-- 자산 담당자 일때 나오는 box 끝-->
                <!--자산 관리자 일때 나오는 box 시작-->
                <!-- 출고 완료 -->
                <th:block th:if="${auth} == 'admin'">
                <div class="item-release-ok">
                    <div class="item">
                        <img src="zimg_1432269391_66.jpg">
                    </div>
                    <div class="item-text">
                        <div class="state">
                            <b>출고 완료</b>
                        </div>
                        <div class="date">
                            2020.5.24, 10시 22분
                        </div>
                    </div>
                </div>
                <!-- 반납 시작 상태 -->
                <div class="item-return-start">
                    <div class="item">
                        <img src="zimg_1432269391_66.jpg">
                    </div>
                    <div class="item-text">
                        <div class="state">
                            <b>반납 시작</b>
                        </div>
                        <div class="item-id">
                            2020.5.24 14시 54분
                        </div>
                    </div>
                </div>
                <!-- 반납 완료 상태 -->
                <div class="item-return-finish">
                    <div class="item">
                        <img src="zimg_1432269391_66.jpg">
                    </div>
                    <div class="item-text">
                        <div class="state">
                            <b>반납 완료</b>
                        </div>
                        <div class="item-id">
                            2020.5.24 14시 54분
                        </div>
                    </div>
                </div>
                </th:block>
               <!-- 자산 관리자 일 때 나오는 box 끝-->
              </th:block>
		    </div>
            <!--//w3-container w3-padding-large-->
            
            <div class="page_count_wrap">
           <!--     <span>
            <img src="list-left_next.svg" >
                </span>-->
                <span th:if="${pageHandler.prev}">
                        <img style="cursor:pointer" th:src="@{/image/paging/list-previous.svg}" th:id="${pageHandler.getStartPage()-1}" name="pageNum"/>
                    </span>
                    <span class="page_num" th:if="${assetListSize} != '0'" th:each="i,index: ${#numbers.sequence(pageHandler.getStartPage(),pageHandler.getEndPage())}">
                        <span class="page" style="cursor:pointer" th:text="${index.current}" th:id="${index.current}" name="pageNum">1</span>
                    </span>
                <span th:if="${pageHandler.next}">
                        <img style="cursor:pointer" th:src="@{/image/paging/list-next.svg}" th:id="${pageHandler.getEndPage()+1}" name="pageNum"/>
                </span>
          <!--  <span>
                <img src="list-right_end.svg" >
            </span>-->
            </div>
            <!--//page_count_wrap--> 
		  </div>
		</div>
		<!-- //w3-main -->
	</div>
	<!--//main_ct-->
    <footer th:replace="fragments/header:: headFooterFragment"></footer>
</body>
</html>