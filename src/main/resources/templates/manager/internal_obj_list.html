<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/config :: configFragment"></head>
<link rel="stylesheet" th:href="@{/css/inside_obj.css}">
<script th:src="@{/script/inside_obj.js}" type="text/javascript"></script>
<script type="text/javascript">
    $(function()
    {
        var objStatus = $('#objStatus').val();
        if('release_wait' == objStatus)
        {
            $('#data_tab_1').addClass('current');
            $('#tab-1').addClass('current');
        }
        if('return_finish' == objStatus)
        {
            $('#data_tab_2').addClass('current');
            $('#tab-2').addClass('current');
        }
        $('th[name=checkRow]').hide();
        $('td[name=checkRow]').hide();

        $('#select_obj').click(function()
        {
            $('th[name=checkRow]').show();
            $('td[name=checkRow]').show();
            var checkedLen = $('input[name=objRow]:checked').length;
            if(checkedLen > 0)
            {
                $('#select_obj').removeClass('select_btn');
                $('#select_obj').addClass('delete_active_btn');
            }else
            {
                $('#select_obj').removeClass('delete_active_btn');
                $('#select_obj').addClass('select_btn');
            }
            $('#select_obj').text('자산 삭제하기');

            var className = $('#select_obj').attr('class');

            if(className == 'delete_active_btn')
            {
                alert('해당 자산을 삭제 하시겠습니까?');
            }
        });

        $('input[name=objRow]').click(function()
        {
            var checkedLen = $('input[name=objRow]:checked').length;
            if(checkedLen > 0)
            {
                $('#select_obj').removeClass('select_btn');
                $('#select_obj').addClass('delete_active_btn');
            }
            else
            {
                $('#select_obj').removeClass('delete_active_btn');
                $('#select_obj').addClass('select_btn');
            }
        });
        $('input[name=objReturnRow]').click(function ()
        {
            var checkedLen = $('input[name=objReturnRow]:checked').length;
            if(checkedLen > 0)
            {
                $('#return_confirm').removeClass('approve_btn');
                $('#return_confirm').addClass('delete_active_btn');
            }
            else
            {
                $('#return_confirm').removeClass('delete_active_btn');
                $('#return_confirm').addClass('approve_btn');
            }
        });
        $('#checkAll').click(function ()
        {
            var checkedLen = $('input[name=objReturnRow]:checked').length;
            if(checkedLen > 0)
            {
                $('#return_confirm').removeClass('approve_btn');
                $('#return_confirm').addClass('delete_active_btn');
            }
            else
            {
                $('#return_confirm').removeClass('delete_active_btn');
                $('#return_confirm').addClass('approve_btn');
            }
        });

        $('#return_confirm').click(function ()
        {
            var className = $('#return_confirm').attr('class');
            console.log('className ===> '+className);
            if(className == 'delete_active_btn')
            {
                alert('해당 자산을 승인 하시겠습니까?');
            }
        });

        $("span[name=pageNum]").click(function()
        {
            $("span[name=pageNum]").attr('class','page');
            $(this).attr('class','page_start');
            var pageNum = $(this).attr('id');
        });

        $("img[name=pageNum]").click(function()
        {
            var pageNum = $(this).attr('id');
        });
    });

    function load_detail_page(srl)
    {
        console.log(srl);
        location.href = "/obj/detail/search/"+srl;
    }

</script>
<body>
<div class="cd-main-header js-cd-main-header">
    <div id="main_ct" class="wrap">
        <div th:replace="fragments/header:: headInfoFragment"></div>
        <div th:replace="fragments/header:: headNavFragment"></div>
        <div class="depth2-bg"></div>
        <!-- title -->
        <div id="title-wrap">
            <div class="page-title-search-area">
                <!-- page-title -->
                <div class="page-title">
                    <div class="all-company">내부 관리 자산 조회</div>
                </div>
                <!-- //page-title -->
            </div>
        </div>
        <!-- //title -->
        <!-- tab content -->
        <div id="tab_content_wrap">
            <ul class="tabs">
                <li class="tab-link" data-tab="tab-1" id="data_tab_1">출고 대기</li>
                <li class="tab-link" data-tab="tab-2" id="data_tab_2">반납 완료</li>
            </ul>
            <input type="hidden" id="objStatus" th:value="${objStatus}"/>
            <!--//tabs-->
            <div id="tab-1" class="tab-content">
                <div id="panel-wrap-register" class="text_left">
                    <div class="regiseter-panel-heading">
                        <div class="regiseter-panel-group">
                            <div class="regiseter-panel-title">
                                <div style="float:left; width:100%;">
                                    <div class="circle"></div><span class="title">총 <span id="register_complete_tot">167</span>자산</span></p>
                                </div>
                                <div class="btn-wrap" style=" float:right; position: relative; bottom:10px;">
                                    <!--자산 선택 전 활성화 되는 버튼-->
                                    <button class="delete_active_btn" id="select_obj">자산 선택하기</button>
                                    <!--자산 선택 후 활성화 되는 버튼
                                    <button class="select_btn">자산 삭제하기</button>-->
                                </div>
                                <!--default-->
                                <div class="remark_default" style="float:left; margin-top:10px; margin-left: 25px;">
                                    <span style="font-size: 24px;  color: #112287; ">출고 자산의 상태의 자산은 선택 후 삭제 가능합니다.</span>
                                </div>
                                <!--//remark_default-->
                                <!--체크박스 체크했을 때
                                <div class="remark_check" style="float:left; margin-top:10px; margin-left: 25px; line-height: 35px;">
                                    <span style="font-size: 24px;  color: #112287; margin-bottom:5px;">자산이 삭제되면 관리 이력과 QR스티커 정보가 지워집니다.</span>
                                    <p>
                                    <span style="font-size: 24px;  color: #112287; ">자산 삭제 후 부착된 QR 스티커는 제거해주세요.</span>
                                </div>
                                <!--//remark_check-->
                            </div>
                            <!--//regiseter-panel-title-->
                        </div>
                        <!--//regiseter-panel-group-->
                    </div>
                    <!--//regiseter-panel-heading-->
                </div>
                <!--//panel-wrap-register-->
                <!--검색(베타 주석처리)
                <div class="event_search"><img src="common-icon-search_black.svg"></div>
                -->
                <div id="regisster_waitList">
                    <table style="border-bottom:2px solid #d7d7d7;" th:if="${objStatus eq 'release_wait'}">
                        <colgroup>
                            <col width="5%" />
                            <col width="15%" />
                            <col width="10%" />
                            <col width="15%" />
                            <col width="20%" />
                            <col width="25%" />
                        </colgroup>
                        <thead>
                        <tr>
                            <th name="checkRow"></th>
                            <th>대기 시작일</th>
                            <th>최종 관리자</th>
                            <th>모델명</th>
                            <th>자산종류</th>
                            <th>QR ID</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:if="${size} == '0'">
                            <td colspan=6>데이터가 없습니다.</td>
                        </tr>
                        <tr th:unless="${size} == '0'" th:each="list : ${list}" style="cursor:pointer;"
                            th:data-srl="${list.qrSrl}"
                            th:onclick="load_detail_page(this.getAttribute('data-srl'))">
                            <td name="checkRow"><input type="checkbox" class="check" name="objRow"></td>
                            <td th:text="${list.statusAt}">2020.5.7</td>
                            <td th:text="${list.userName}">홍길동A</td>
                            <td th:text="${list.modelName}">SL-X3220NR</td>
                            <td th:text="${list.objKinds}">레이저복합기</td>
                            <td th:text="${list.companyName}">20200504-00000001</td>
                        </tr>

                        </tbody>
                    </table>
                </div>
                <div class="page_count_wrap" th:if="${objStatus eq 'release_wait'}">
                    <!--<span>
                        <img src="list-left_next.svg" >
                    </span>-->
                    <span th:if="${pageHandler.prev}">
                        <img style="cursor:pointer" th:src="@{/image/paging/list-previous.svg}" th:id="${pageHandler.getStartPage()-1}" name="pageNum"/>
                    </span>
                    <span class="page_num" th:if="${size} != '0'" th:each="i,index: ${#numbers.sequence(pageHandler.getStartPage(),pageHandler.getEndPage())}">
                        <span class="page" style="cursor:pointer" th:text="${index.current}" th:id="${index.current}" name="pageNum">1</span>
                    </span>
                    <span th:if="${pageHandler.next}">
                        <img style="cursor:pointer" th:src="@{/image/paging/list-next.svg}" th:id="${pageHandler.getEndPage()+1}" name="pageNum"/>
                    </span>
                    <!--<span>
                        <img src="list-right_end.svg" >
                    </span>-->
                </div>
                <!--//page_count_wrap-->
            </div>
            <!--//tab-1-->
            <div id="tab-2" class="tab-content">
                <div id="panel-wrap-register" class="text_left">
                    <div class="regiseter-panel-heading">
                        <div class="regiseter-panel-group">
                            <div class="regiseter-panel-title">
                                <div style="float:left; width:100%;">
                                    <div class="circle"></div><span class="title">총 <span id="register_complete_tot">167</span>자산</span></p>
                                </div>
                                <div class="btn-wrap" style=" float:right; position: relative; bottom:10px;">
                                    <button class="approve_btn" id="return_confirm">반납 승인하기</button>
                                </div>
                                <div class="remark" style="float:left; margin-top:10px; margin-left: 25px;">
                                    <span style="font-size: 24px;  color: #112287; ">자산 선택 후 '반납 승인하기'를 누르면 자산이 출고 대기 상태로 이동됩니다.</span>
                                </div>
                            </div>
                            <!--//regiseter-panel-title-->
                        </div>
                        <!--//regiseter-panel-group-->
                    </div>
                    <!--//regiseter-panel-heading-->
                </div>
                <!--//panel-wrap-register-->
                <div class="sub-title" >
                    <input type="checkbox" id="checkAll" onclick="checkAll();"class="all-check" style="margin-right:20px; ">
                    <span style="position: relative; bottom:-3px;">전체 선택하기</span>
                </div>
                <!--검색(베타 주석처리)
                <div class="event_search"><img src="common-icon-search_black.svg"></div>
                -->
                <div id="regisster_completeList">
                    <table style="border-bottom:2px solid #d7d7d7;" th:if="${objStatus eq 'return_finish'}">
                        <colgroup>
                            <col width="5%" />
                            <col width="15%" />
                            <col width="10%" />
                            <col width="15%" />
                            <col width="20%" />
                            <col width="25%" />
                        </colgroup>
                        <thead>
                        <tr>
                            <th></th>
                            <th>반납 완료일</th>
                            <th>반납 관리자</th>
                            <th>모델명</th>
                            <th>자산종류</th>
                            <th>QR ID</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:if="${size} == '0'">
                            <td colspan=6>데이터가 없습니다.</td>
                        </tr>
                        <tr th:unless="${size} == '0'" th:each="list : ${list}" style="cursor:pointer;"
                            th:data-srl="${list.qrSrl}"
                            th:onclick="load_detail_page(this.getAttribute('data-srl'))">
                            <td><input type="checkbox" name="objReturnRow" class="check"></td>
                            <td th:text="${list.statusAt}">2020.5.7</td>
                            <td th:text="${list.userName}">홍길동A</td>
                            <td th:text="${list.modelName}">SL-X3220NR</td>
                            <td th:text="${list.objKinds}">레이저복합기</td>
                            <td th:text="${list.companyName}">20200504-00000001</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <!--//regisster_completeList-->
                <div class="page_count_wrap" th:if="${objStatus eq 'return_finish'}">
                    <!--<span>
                        <img src="list-left_next.svg" >
                    </span>-->
                    <span th:if="${pageHandler.prev}">
                        <img style="cursor:pointer" th:src="@{/image/paging/list-previous.svg}" th:id="${pageHandler.getStartPage()-1}" name="pageNum"/>
                    </span>
                    <span class="page_num" th:if="${size} != '0'" th:each="i,index: ${#numbers.sequence(pageHandler.getStartPage(),pageHandler.getEndPage())}">
                        <span class="page" style="cursor:pointer" th:text="${index.current}" th:id="${index.current}" name="pageNum">1</span>
                    </span>
                    <span th:if="${pageHandler.next}">
                        <img style="cursor:pointer" th:src="@{/image/paging/list-next.svg}" th:id="${pageHandler.getEndPage()+1}" name="pageNum"/>
                    </span>
                    <!--<span>
                        <img src="list-right_end.svg" >
                    </span>-->
                </div>
                <!--//page_count_wrap-->
            </div>
            <!--//tab-2-->
        </div>
        <!-- tab content -->
        <!-- //cd-main-header js-cd-main-header -->
        <footer th:replace="fragments/header:: headFooterFragment"></footer>
</body>
</html>